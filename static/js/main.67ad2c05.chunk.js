(this.webpackJsonpbob=this.webpackJsonpbob||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),s=n.n(c),a=n(16),i=n.n(a),o=(n(92),n(93),n(28)),l=n.n(o),j=n(18),d=n(38),u=n(3),b=n(11),h=n(12),m=n(127),O=n(139),x=n(133),f=n(85),p=n(48),g=n.n(p);function v(e){console.log(e)}var N={get:function(e){return g.a.get(e).then((function(e){return e.data})).catch(v)},post:function(e,t){return g.a.post(e,t).then((function(e){return e.data})).catch(v)},put:function(e,t){return g.a.put(e,t).then((function(e){return e.data})).catch(v)},remove:function(e){return g.a.delete(e).then((function(e){return e.data})).catch(v)}},w={authenticate:function(e,t){return N.get("".concat(y,"/users?username=").concat(e.toLowerCase())).then((function(e){if(0===e.length)return"no such user";if(e[0].password!==t)return"wrong password";if(e[0].password===t){var n=e[0];n.password;return Object(f.a)(n,["password"])}}))},query:function(e){return N.get("".concat(y,"/").concat(e))},getById:function(e,t){return N.get("".concat(y,"/").concat(e,"/").concat(t))},save:function(e,t){if("users"===e)return t.id?t.password?N.put("".concat(y,"/").concat(e,"/").concat(t.id),t).then((function(){return t})):N.get("".concat(y,"/").concat(e,"/").concat(t.id)).then((function(n){return t.password=n.password,t.updatedOn=Date.now(),N.put("".concat(y,"/").concat(e,"/").concat(t.id),t).then((function(){return t}))})):(t.id=I(),t.isAdmin=!1,t.cart=[],t.favProjects=[],t.updatedOn=Date.now(),N.post("".concat(y,"/").concat(e),t));if("items"===e)return t.updatedOn=Date.now(),N.put("".concat(y,"/").concat(e,"/").concat(t.id),t).then((function(){return t}));if("projects"===e)return t.id?(t.updatedOn=Date.now(),N.put("".concat(y,"/").concat(e,"/").concat(t.id),t).then((function(){return t}))):(t.id=I(),""==t.imgUrl&&(t.imgUrl="./img/projects/coming-soon.png"),t.updatedOn=Date.now(),t.cost=null,N.post("".concat(y,"/").concat(e),t))},remove:function(e,t){return N.remove("".concat(y,"/").concat(e,"/").concat(t))}},y="https://harry-the-handyman-backend.herokuapp.com";function I(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var S=n(137),U=n(138),C=n(134);var k=function(e){if(e.loggedIn){var t=e.currUser.cart;return Object(r.jsxs)(S.a,{sticky:"top",bg:"light",expand:"lg",className:"mb-2",children:[Object(r.jsxs)(S.a.Brand,{href:"#",children:[Object(r.jsx)(m.a,{alt:"",src:"./img/common/logo.png",className:"logo"})," ","Harry the Handyman"]}),Object(r.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav cust-navbar"}),Object(r.jsx)(S.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(r.jsxs)(U.a,{className:"menu-cust",children:[Object(r.jsx)(U.a.Link,{href:"#projects",children:"Projects"}),Object(r.jsx)(U.a.Link,{href:"#items",children:"Items"}),Object(r.jsxs)(U.a.Link,{href:"#cart",children:["Cart ",t.length>0?"(".concat(t.length,")"):""]}),Object(r.jsx)(U.a.Link,{href:"#about",children:"About"}),Object(r.jsxs)(C.a,{title:Object(r.jsxs)("div",{className:"avatar-drop-down flex align-items-center",children:[Object(r.jsx)(m.a,{className:"avatar mx-2",src:"https://robohash.org/set_set5/".concat(e.currUser.fullName,".png"),alt:"user pic",roundedCircle:!0}),Object(r.jsx)("div",{className:"avatar-name",children:e.currUser.fullName&&e.currUser.fullName.split(" ").shift()})]}),id:"basic-nav-dropdown",children:[Object(r.jsx)(C.a.Item,{href:"#profile",children:"My Profile"}),e.currUser.isAdmin&&Object(r.jsx)(C.a.Item,{href:"#mngusers",children:"Manage Users"}),Object(r.jsx)(C.a.Divider,{}),Object(r.jsx)(C.a.Item,{href:"#",onClick:function(){e.onSignOut()},children:"Sign Out"})]})]})})]})}return Object(r.jsxs)(S.a,{sticky:"top",bg:"light",expand:"lg",className:"mb-2",children:[Object(r.jsxs)(S.a.Brand,{href:"#",children:[Object(r.jsx)(m.a,{alt:"",src:"./img/common/logo.png",className:"logo"})," ","Harry the Handyman"]}),Object(r.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav cust-navbar"}),Object(r.jsx)(S.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(r.jsxs)(U.a,{className:"",children:[Object(r.jsx)(U.a.Link,{href:"#projects",children:"Projects"}),Object(r.jsx)(U.a.Link,{href:"#about",children:"About"})]})})]})},P=n(130),B=n(80),T=n(140),A=n(128),R=n(136),q=n(79);var D=function(e){return Object(r.jsx)("span",{className:e.userUpdate?"inline-err-msg form-text":"err-msg form-text",children:e.errors.map((function(e,t){return Object(r.jsx)("div",{children:e},t)}))})},E=n(135);var H=function(e){return Object(r.jsx)(E.a,{show:e.isBannerShown,onHide:e.onHideBanner,children:Object(r.jsx)(E.a.Body,{children:e.txt})})},F=function(e,t){var n=e.name,r=e.value,c=[];if(t.field[n].required)if(r)switch(n){case"username":/^((?!(\blala\b|\bwawa\b|\bdada\b)).)*$/i.test(r)||c.push("".concat(n," should be not be this word."));break;case"fullName":/^(\w.+\s).+/i.test(r)||c.push("".concat(n," should be two words."));break;case"email":/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/i.test(r)||c.push("invalid e-mail address");break;case"password":/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{6,}$/.test(r)||c.push("This ".concat(n," is invalid"));break;case"passwordVerify":r!==t.field.password.value&&c.push("passwords do not match!")}else c.push("".concat(n," is required"));return c};var L=function(e){var t=Object(c.useState)({field:{},bannerIsShown:!1,msg:""}),n=Object(b.a)(t,2),s=n[0],a=n[1];Object(c.useEffect)((function(){a((function(t){return Object(u.a)(Object(u.a)({},t),{},{field:e.fields})}))}),[e.fields]);var i=function(e){var t=F(e.target,s);a(Object(u.a)(Object(u.a)({},s),{},{field:Object(u.a)(Object(u.a)({},s.field),{},Object(j.a)({},e.target.name,Object(u.a)(Object(u.a)({},s.field[e.target.name]),{},{value:e.target.value,errors:t})))}))},o=function(t){t.preventDefault(),Object.keys(s.field).every((function(e){return 0===s.field[e].errors.length}))?e.typeIsSignIn?e.onSignIn(s.field):(e.onSignUp(s.field),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"Thanks for signing up, ".concat(e.field.fullName.value.split(" ").shift()),bannerIsShown:!0})}))):a((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"Some of the fields have issues.",bannerIsShown:!0})}))},l=function(){return a((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!1})}))},d=function(){return a((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!0})}))};return e.typeIsSignIn?Object(r.jsxs)("div",{children:[Object(r.jsxs)(R.a,{className:"form",onSubmit:o,children:[Object(r.jsx)(R.a.Row,{children:Object(r.jsxs)(B.a,{className:"form-field flex",children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"text",placeholder:"Enter Username",name:"username",id:"usernameSI",onBlur:i}),s.field.username&&s.field.username.errors.length>0&&Object(r.jsx)(D,{errors:s.field.username.errors})]})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsxs)(B.a,{className:"form-field flex",children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"password",placeholder:"Enter Password",name:"password",id:"passwordSI",onChange:i}),s.field.password&&s.field.password.errors.length>0&&Object(r.jsx)(D,{errors:s.field.password.errors})]})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)(q.a,{block:!0,type:"submit",children:"Sign In"})})})]}),Object(r.jsx)(H,{isBannerShown:s.bannerIsShown,onShowBanner:d,onHideBanner:l,txt:s.msg})]}):Object(r.jsxs)("div",{children:[Object(r.jsxs)(R.a,{className:"form",onSubmit:o,children:[Object(r.jsx)(R.a.Row,{children:Object(r.jsxs)(B.a,{className:"form-field flex",children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"text",placeholder:"Enter Username",name:"username",id:"usernameSU",onBlur:i}),s.field.username&&s.field.username.errors.length>0&&Object(r.jsx)(D,{errors:s.field.username.errors})]})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsxs)(B.a,{className:"form-field flex",children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"text",placeholder:"Enter Your Full Name",name:"fullName",id:"fullName",onBlur:i}),s.field.fullName&&s.field.fullName.errors.length>0&&Object(r.jsx)(D,{errors:s.field.fullName.errors})]})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsxs)(B.a,{className:"form-field flex",children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"text",placeholder:"Enter Email",name:"email",id:"email",onBlur:i}),s.field.email&&s.field.email.errors.length>0&&Object(r.jsx)(D,{errors:s.field.email.errors})]})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsxs)(B.a,{className:"form-field flex",children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"password",placeholder:"Enter Password",name:"password",id:"passwordSU",onBlur:i}),s.field.password&&s.field.password.errors.length>0&&Object(r.jsx)(D,{errors:s.field.password.errors})]})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsxs)(B.a,{className:"form-field flex",children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"password",placeholder:"Re-enter Password",name:"passwordVerify",id:"passwordVerify",onBlur:i}),s.field.passwordVerify&&s.field.passwordVerify.errors.length>0&&Object(r.jsx)(D,{errors:s.field.passwordVerify.errors})]})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)(q.a,{block:!0,type:"submit",children:"Sign Up"})})})]}),Object(r.jsx)(H,{isBannerShown:s.bannerIsShown,onShowBanner:d,onHideBanner:l,txt:s.msg})]})};var Q=function(e){return Object(r.jsxs)(T.a,{className:"front text-center",children:[Object(r.jsx)(T.a.Header,{children:"Sign In"}),Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)(T.a.Title,{children:"Enter Your Credentials"}),Object(r.jsx)(T.a.Text,{children:Object(r.jsx)(L,{typeIsSignIn:e.type,onSignIn:e.onSignIn,fields:e.fields})})]}),Object(r.jsxs)(T.a.Footer,{className:"text-muted",children:[Object(r.jsx)("div",{children:"Don't Have an Account?"}),Object(r.jsx)(A.a,{variant:"primary",onClick:e.onChangeType,children:"Sign Up"})]})]})};var $=function(e){return Object(r.jsxs)(T.a,{className:"back text-center",children:[Object(r.jsx)(T.a.Header,{children:"Sign Up"}),Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)(T.a.Title,{children:"Fill in your Details"}),Object(r.jsx)(T.a.Text,{children:Object(r.jsx)(L,{typeIsSignIn:e.type,onSignUp:e.onSignUp,fields:e.fields})})]}),Object(r.jsxs)(T.a.Footer,{className:"text-muted",children:[Object(r.jsx)("div",{children:"Already Have an Account?"}),Object(r.jsx)(A.a,{variant:"primary",onClick:e.onChangeType,children:"Sign In"})]})]})},V=n(129);var M=function(e){var t=Object(c.useState)({typeIsSignIn:!0,fields:{}}),n=Object(b.a)(t,2),s=n[0],a=n[1];Object(c.useEffect)((function(){s.typeIsSignIn?a((function(e){return Object(u.a)(Object(u.a)({},e),{},{fields:{username:{value:"",required:!0,errors:[]},password:{value:"",required:!0,errors:[]}}})})):a((function(e){return Object(u.a)(Object(u.a)({},e),{},{fields:{username:{value:"",required:!0,errors:[]},fullName:{value:"",required:!0,errors:[]},email:{value:"",required:!0,errors:[]},password:{value:"",required:!0,errors:[]},passwordVerify:{value:"",required:!0,errors:[]}}})}))}),[s.typeIsSignIn]);var i=function(){a((function(e){return Object(u.a)(Object(u.a)({},e),{},{typeIsSignIn:!e.typeIsSignIn})}))};return Object(r.jsx)("div",{children:Object(r.jsx)(V.a,{className:"",fluid:!0,children:Object(r.jsx)(P.a,{className:"my-2",children:Object(r.jsx)(B.a,{children:s.typeIsSignIn?Object(r.jsx)(Q,{type:s.typeIsSignIn,fields:s.fields,onSignIn:e.onSignIn,onChangeType:i}):Object(r.jsx)($,{type:s.typeIsSignIn,fields:s.fields,onSignUp:e.onSignUp,onChangeType:i})})})})})};var W=function(e){return Object(r.jsx)("div",{className:"container flex col",children:Object(r.jsxs)(P.a,{className:"flex",children:[Object(r.jsx)(B.a,{md:4,className:"flex d-none d-md-block",children:Object(r.jsx)(m.a,{className:"harry mx-auto",src:"./img/common/harry.png",alt:"",fluid:!0})}),!e.isSignedIn&&Object(r.jsx)(B.a,{sm:12,md:6,children:Object(r.jsx)(M,{onSignIn:e.onSignIn,onSignUp:e.onSignUp})}),e.isSignedIn&&Object(r.jsxs)(B.a,{sm:12,md:6,children:[Object(r.jsx)("div",{className:"speech-bubble flex col",children:Object(r.jsxs)("span",{children:["Hi ",e.currUser.fullName.split(" ").shift()," !"]})}),!e.currUser.isAdmin&&e.isSignedIn&&Object(r.jsxs)("div",{className:"hint",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"font-weight-bold",children:"Hint:"})," For admin access, sign-in with:"]}),Object(r.jsxs)("div",{children:["username: ",Object(r.jsx)("span",{className:"font-weight-bold",children:"harry"})]}),Object(r.jsxs)("div",{children:["password: ",Object(r.jsx)("span",{className:"font-weight-bold",children:"Harry123"})]})]})]})]})})};var J=function(e){return Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsxs)(P.a,{className:"flex",children:[Object(r.jsx)(B.a,{md:4,className:"flex d-none d-md-block",children:Object(r.jsx)("div",{className:"d-flex flex-column",children:Object(r.jsx)("div",{className:"d-flex",children:Object(r.jsx)(m.a,{className:"harry about mx-auto",src:"./img/common/harry.png",alt:"",fluid:!0})})})}),Object(r.jsx)(B.a,{sm:12,md:8,children:Object(r.jsxs)("ul",{className:"about-txt d-flex flex-column",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("h3",{children:"This Single Page Application was developed in React JS."}),Object(r.jsx)("h3",{children:"The frontend is served from GitHub Pages."})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("h3",{children:"The backend is handled by a lightweight Node.js instance, running the JSON-SERVER library, serving three collections (users, items, and projects)."}),Object(r.jsx)("h3",{children:"It runs on an ephemeral filesystem, which resets daily, and is hosted on Heroku."})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("h3",{children:"Libraries that were used in this SPA:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"React-Router"})}),Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"Axios"})}),Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"React-Bootstrap"})}),Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"React-Transition-Group"})}),Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"Font-Awesome"})}),Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"React-Beautiful-DnD"})})]})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("h3",{children:"APIs that were used in this SPA:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"Robohash"})}),Object(r.jsx)("li",{children:Object(r.jsx)("h4",{children:"Cloudinary"})})]})]})]})})]}),Object(r.jsx)(P.a,{children:Object(r.jsx)("h4",{className:"mx-auto",children:"Ohad Leshem, 2020"})})]})},Y=n(20);var _=function(e){return Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsx)("h2",{children:"Items:"}),e.items.map((function(t,n){return Object(r.jsx)("div",{className:"mx-3",children:Object(r.jsx)(T.a,{className:"mt-3 p-3",children:Object(r.jsxs)(P.a,{className:"align-items-center",children:[Object(r.jsx)(B.a,{sm:12,md:2,children:Object(r.jsx)("img",{className:"item-img",src:t.imgUrl,alt:""})}),Object(r.jsxs)(B.a,{sm:12,md:6,className:"mx-5",children:[Object(r.jsx)("div",{className:"kind",children:t.name}),Object(r.jsxs)("div",{children:["Cost: $",t.cost," ea."]}),Object(r.jsxs)("div",{children:["Quantity in Stock: ",t.quantity," pcs"]})]}),Object(r.jsxs)(B.a,{sm:12,md:2,children:[Object(r.jsx)("div",{children:Object(r.jsx)(Y.b,{to:{pathname:"/items/".concat(t.id),state:{currItem:t,onAddToCart:e.onAddToCart}},children:Object(r.jsx)(q.a,{variant:"outline-info",className:"my-1",block:!0,children:"Details"})})}),Object(r.jsx)("div",{children:Object(r.jsx)(q.a,{variant:"primary",className:"my-1",onClick:function(){return e.onAddToCart(t)},block:!0,children:"Add To Cart"})})]})]})})},n)}))]})};var z=function(e){var t=Object(h.f)(),n=e.location.state.currItem,c=n.name,s=n.description,a=n.cost,i=n.quantity,o=n.imgUrl;return Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsx)("h2",{children:c}),Object(r.jsxs)(T.a,{children:[Object(r.jsx)(T.a.Header,{children:s}),Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)(T.a.Text,{children:Object(r.jsxs)("div",{className:"flex align-items-center",children:[Object(r.jsx)(B.a,{sm:6,md:3,children:Object(r.jsx)(T.a.Img,{variant:"top",className:"item-img",src:o})}),Object(r.jsx)(B.a,{sm:6,md:9,children:Object(r.jsxs)("div",{className:"flex col",children:[Object(r.jsxs)("div",{className:"",children:["Cost: $",a," ea."]}),Object(r.jsxs)("div",{className:"",children:["Quantity In Stock: ",i," pcs"]})]})})]})}),Object(r.jsx)(q.a,{variant:"primary",onClick:function(){return t.go(-1)},children:"Back"})]})]})]})};var G=function(e){return Object(r.jsx)("input",{className:"search-field",placeholder:"Search in Projects",type:"text",onChange:function(t){return e.onFilterRes(t.target.value)}})};var Z=function(e){var t=Object(c.useState)({filter:""}),n=Object(b.a)(t,2),s=n[0],a=n[1],i=null;return i=s.filter?e.projects.filter((function(e){return e.name.toLowerCase().includes(s.filter.toLowerCase())||e.description.toLowerCase().includes(s.filter.toLowerCase())})):e.projects,Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsxs)(P.a,{className:"projects-header",children:[Object(r.jsx)(B.a,{sm:12,md:3,children:Object(r.jsx)("h2",{children:"Projects:"})}),Object(r.jsx)(B.a,{sm:12,md:6,className:"flex align-items-center",children:Object(r.jsx)(G,{onFilterRes:function(e){a((function(t){return Object(u.a)(Object(u.a)({},t),{},{filter:e})}))}})}),Object(r.jsx)(B.a,{sm:12,md:3,className:"flex justify-content-end",children:Object(r.jsx)(Y.b,{to:{pathname:"/newproject"},children:Object(r.jsx)(q.a,{variant:"primary",className:"btn-add-project",onClick:function(){return e.onAddThing()},block:!0,children:"Add New Project"})})})]}),i.map((function(t,n){return Object(r.jsx)("div",{className:"mx-3",children:Object(r.jsx)(T.a,{className:"mt-3 p-3",children:Object(r.jsxs)(P.a,{className:"align-items-center",children:[Object(r.jsx)(B.a,{sm:3,md:2,className:"d-flex justify-content-center",children:Object(r.jsx)("img",{className:"item-img",src:t.imgUrl,alt:""})}),Object(r.jsxs)(B.a,{sm:8,md:7,className:"mb-2",children:[Object(r.jsx)("div",{className:"kind",children:t.name}),Object(r.jsxs)("div",{className:"",children:["Quantity In Stock: ",t.quantity," pcs"]})]}),Object(r.jsx)(B.a,{sm:8,md:2,className:"mx-auto",children:Object(r.jsx)("div",{children:Object(r.jsx)(Y.b,{to:{pathname:"/projects/".concat(t.id),state:{currProject:t,allItems:e.items,currUser:e.currUser,toggleFavProj:e.onToggleFavProj,deleteThing:e.onDeleteThing}},children:e.isSignedIn&&Object(r.jsx)(q.a,{variant:"outline-info",block:!0,children:"More Information"})})})})]})})},n)}))]})},K=n(24),X=n(27),ee=n(81);var te=function(e){return Object(r.jsx)("div",{className:"nec-items mt-1 d-flex flex-wrap",children:e.items.map((function(e,t){return Object(r.jsx)("div",{className:"nec-item",children:e.name},t)}))})};var ne=function(e){var t=e.location.state.currProject,n=t.id,s=t.name,a=t.description,i=t.instructions,o=t.quantity,l=t.imgUrl,j=t.necItemIds,d=e.location.state.currUser.favProjects,m=e.location.state,O=m.toggleFavProj,x=m.deleteThing,f=e.location.state.allItems,p=Object(c.useState)({necItems:[],necItemNames:[],projectCost:null}),g=Object(b.a)(p,2),v=g[0],N=g[1],w=Object(h.f)();return Object(c.useEffect)((function(){var e=function(){for(var e=[],t=function(t){var n=f.find((function(e){return e.id==j[t]}));e.push(n)},n=0;n<j.length;n++)t(n);return e}(),t=e.reduce((function(e,t){return e+t.cost}),0);N((function(n){return Object(u.a)(Object(u.a)({},n),{},{necItems:e,projectCost:t})}))}),[f,j,d]),Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsx)("h2",{className:"mb-2",children:s}),Object(r.jsxs)(T.a,{children:[Object(r.jsxs)(T.a.Header,{className:"d-flex justify-content-between",children:[a,e.location.state.currUser&&Object(r.jsx)("div",{onClick:function(){return O(n)},className:"pointer",children:d.includes(n)?Object(r.jsx)(K.a,{icon:X.c}):Object(r.jsx)(K.a,{icon:ee.a})})]}),Object(r.jsx)(T.a.Body,{children:Object(r.jsx)(T.a.Text,{children:Object(r.jsxs)("div",{className:"flex align-items-center",children:[Object(r.jsx)(B.a,{sm:3,md:3,children:Object(r.jsx)(T.a.Img,{variant:"top",className:"img-fluid",src:l})}),Object(r.jsx)(B.a,{sm:9,md:9,children:Object(r.jsxs)("div",{className:"flex col",children:[Object(r.jsxs)("div",{children:["Cost: ",Object(r.jsxs)("span",{className:"font-weight-bold",children:["$",v.projectCost]})]}),Object(r.jsxs)("div",{children:["Quantity In Stock: ",Object(r.jsxs)("span",{className:"font-weight-bold",children:[o," pcs"]})]}),Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:"font-weight-bold",children:"Items required for the build:"})}),Object(r.jsx)(te,{items:v.necItems}),Object(r.jsxs)("div",{className:"mt-2",children:[Object(r.jsx)("span",{className:"font-weight-bold",children:"Building Instructions:"}),Object(r.jsx)("p",{children:i})]})]})})]})})}),Object(r.jsxs)(T.a.Footer,{className:"d-flex justify-content-between text-muted",children:[Object(r.jsx)(q.a,{variant:"primary",onClick:function(){return w.go(-1)},children:"Back"}),e.location.state.currUser.isAdmin&&Object(r.jsx)(q.a,{variant:"danger",onClick:function(){return x("projects",n)},children:"Delete Project"})]})]})]})},re=n(131),ce={uploadImg:function(e){var t="https://api.cloudinary.com/v1_1/".concat("ddvdpsmgu","/image/upload"),n=new FormData;return n.append("file",e.target.files[0]),n.append("upload_preset","gl5rcald"),fetch(t,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return e.url})).catch((function(e){return console.error(e)}))}};var se=n(41);var ae=function(e){var t=Object(c.useState)({items:e.items,selected:[]}),n=Object(b.a)(t,2),s=n[0],a=n[1],i=function(e,t){return Object(u.a)({userSelect:"none",height:"fitContent",padding:"0 5px 0 5px",margin:4,borderRadius:4,background:e?"lightgreen":"lightblue"},t)},o=function(e){return{background:e?"lightblue":"lightgrey",borderRadius:4,minHeight:50,padding:8,marginBottom:10,flexWrap:"wrap",boxShadow:"inset 2px 2px 5px 0px rgba(0,0,0,0.75)"}},l={droppable:"items",droppable2:"selected"},j=function(e){return s[l[e]]};return Object(r.jsxs)(se.a,{onDragEnd:function(t){var n=t.source,r=t.destination;if(r)if(n.droppableId===r.droppableId){var c=function(e,t,n){var r=Array.from(e),c=r.splice(t,1),s=Object(b.a)(c,1)[0];return r.splice(n,0,s),r}(j(n.droppableId),n.index,r.index),s={items:c};"droppable2"===n.droppableId&&(s={selected:c}),a(s)}else{var i=function(e,t,n,r){var c=Array.from(e),s=Array.from(t),a=c.splice(n.index,1),i=Object(b.a)(a,1)[0];s.splice(r.index,0,i);var o={};return o[n.droppableId]=c,o[r.droppableId]=s,o}(j(n.droppableId),j(r.droppableId),n,r);a({items:i.droppable,selected:i.droppable2}),e.onUpdateNecItems(i.droppable2)}},children:[Object(r.jsx)(se.c,{droppableId:"droppable",children:function(e,t){return Object(r.jsxs)("div",{className:"d-flex",ref:e.innerRef,style:o(t.isDraggingOver),children:[s.items.map((function(e,t){return Object(r.jsx)(se.b,{className:"nec-items",draggableId:e.id,index:t,children:function(t,n){return Object(r.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({className:"nec-item",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:i(n.isDragging,t.draggableProps.style),children:e.name}))}},e.id)})),e.placeholder]})}}),Object(r.jsx)(se.c,{droppableId:"droppable2",children:function(e,t){return Object(r.jsxs)("div",{className:"d-flex",ref:e.innerRef,style:o(t.isDraggingOver),children:[s.selected.length<1?"Drop Required Items Here!":"",s.selected.map((function(e,t){return Object(r.jsx)(se.b,{className:"nec-items",draggableId:e.id,index:t,children:function(t,n){return Object(r.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:i(n.isDragging,t.draggableProps.style),children:e.name}))}},e.id)})),e.placeholder]})}})]})};var ie=function(e){var t=Object(c.useState)({field:{projName:{value:"",required:!0,errors:[]},projDesc:{value:"",required:!1},projInst:{value:"",required:!1},qty:{value:0,required:!1},img:{value:"",required:!1,errors:[]},necItems:{value:"",required:!1,errors:[]}},bannerIsShown:!1,msg:""}),n=Object(b.a)(t,2),s=n[0],a=n[1],i=function(e){var t=F(e.target,s);a(Object(u.a)(Object(u.a)({},s),{},{field:Object(u.a)(Object(u.a)({},s.field),{},Object(j.a)({},e.target.name,Object(u.a)(Object(u.a)({},s.field[e.target.name]),{},{value:e.target.value,errors:t})))}))};return Object(r.jsxs)("div",{children:[Object(r.jsxs)(R.a,{className:"form",onSubmit:function(t){t.preventDefault(),Object.keys(s.field).every((function(e){return 0===s.field[e].errors.length}))?(a((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-around",children:[Object(r.jsx)("div",{children:"Thanks For Submitting a New Project !"}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{src:"./img/common/loader.gif",alt:""})})]}),bannerIsShown:!0})})),e.onAddThing("projects",s.field)):a((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"Some of the fields have issues.",bannerIsShown:!0})}))},children:[Object(r.jsxs)(R.a.Row,{children:[Object(r.jsxs)(B.a,{sm:10,md:10,children:[Object(r.jsx)(R.a.Control,{className:"mb-2",type:"text",placeholder:"Enter Project Name",name:"projName",id:"projName",onBlur:i}),s.field.projName.errors.length>0&&Object(r.jsx)(D,{errors:s.field.projName.errors})]}),Object(r.jsx)(B.a,{sm:1,md:1,children:Object(r.jsx)(R.a.Control,{className:"mb-2",type:"number",placeholder:"Stock",name:"qty",id:"qty",onBlur:i})}),Object(r.jsx)(B.a,{sm:1,md:1,children:Object(r.jsxs)(re.a,{children:[Object(r.jsx)(re.a.Text,{className:"custom-file-upload",children:Object(r.jsx)("label",{for:"img",className:"pointer",children:Object(r.jsx)(K.a,{icon:X.e})})}),Object(r.jsx)(R.a.Control,{className:"mb-2",type:"file",placeholder:"Upload a Picture",name:"img",id:"img",onChange:function(e){e?(a((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-around",children:[Object(r.jsx)("div",{children:"Your Image Is Being Uploaded"}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{src:"./img/common/loader.gif",alt:""})})]}),bannerIsShown:!0})})),ce.uploadImg(e).then((function(e){a((function(t){return Object(u.a)(Object(u.a)({},t),{},{field:Object(u.a)(Object(u.a)({},t.field),{},{img:Object(u.a)(Object(u.a)({},t.field.img),{},{value:e})})})})),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"",bannerIsShown:!1})}))}))):console.log("hee haw!")}})]})})]}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)(R.a.Control,{className:"mb-2",type:"text",placeholder:"Enter The Project Description",name:"projDesc",id:"projDesc",onBlur:i})})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)(R.a.Control,{className:"mb-2",as:"textarea",rows:3,placeholder:"Instructions for Building This Project",name:"projInst",id:"projInst",onBlur:i})})}),Object(r.jsx)(R.a.Row,{className:"d-flex flex-column",children:Object(r.jsx)(B.a,{children:Object(r.jsx)(ae,{items:e.items,onUpdateNecItems:function(e){var t=e.map((function(e){return e.id}));a((function(e){return Object(u.a)(Object(u.a)({},e),{},{field:Object(u.a)(Object(u.a)({},e.field),{},{necItems:Object(u.a)(Object(u.a)({},e.field.necItems),{},{value:t})})})}))}})})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)(q.a,{block:!0,type:"submit",children:"Submit new Project"})})})]}),Object(r.jsx)(H,{isBannerShown:s.bannerIsShown,onShowBanner:function(){return a((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!0})}))},onHideBanner:function(){return a((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!1})}))},txt:s.msg})]})};var oe=function(e){return Object(r.jsx)("div",{className:"container flex col",children:Object(r.jsx)(ie,{onAddThing:function(t,n){e.onAddThing(t,n)},items:e.items})})};var le=function(e){return Object(r.jsx)("div",{className:"flex col",children:e.project.name})};var je=function(e){var t=Object(h.f)(),n=Object(c.useState)({currUser:e.currUser,favProjects:[],bannerIsShown:!1,msg:""}),s=Object(b.a)(n,2),a=s[0],i=s[1];return Object(c.useEffect)((function(){var t="";if(e.currUser.favProjects.length>0){e.currUser.favProjects.forEach((function(e){return t+="&id=".concat(e)}));var n=t.substring(1),r="?".concat(n);w.getById("projects",r).then((function(e){return i((function(t){return Object(u.a)(Object(u.a)({},t),{},{favProjects:e})}))}))}}),[e.currUser.favProjects]),Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsx)("h4",{children:"My Profile"}),Object(r.jsxs)(T.a,{children:[Object(r.jsx)(T.a.Header,{children:Object(r.jsx)("h4",{children:a.currUser.fullName})}),Object(r.jsx)(T.a.Body,{children:Object(r.jsx)(T.a.Text,{children:Object(r.jsxs)(P.a,{className:"flex",children:[Object(r.jsx)(B.a,{sm:3,md:2,children:Object(r.jsx)(m.a,{className:"profile-pic",src:"https://robohash.org/set_set5/".concat(a.currUser.fullName,".png"),alt:"user pic",rounded:!0})}),Object(r.jsxs)(B.a,{sm:8,md:9,className:"flex col",children:[Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("div",{children:"Admin Status:"}),Object(r.jsx)("div",{className:"mx-2",children:a.currUser.isAdmin?Object(r.jsx)(K.a,{icon:X.a}):Object(r.jsx)(K.a,{icon:X.d})})]}),Object(r.jsxs)("div",{className:"flex",children:["Favorite Projects: ",Object(r.jsx)("div",{className:"d-flex flex-column",children:a.favProjects.length>0?a.favProjects.map((function(e,t){return Object(r.jsx)(le,{project:e},t)})):"none"})]})]})]})})}),Object(r.jsx)(T.a.Footer,{className:"text-muted",children:Object(r.jsx)(q.a,{variant:"primary",onClick:function(){return t.push("/projects")},children:"Back"})})]})]})},de=n(83),ue=n.n(de);var be=function(e){var t=e.user,n=t.fullName,c=n.value,s=n.errors,a=t.username,i=a.value,o=a.errors,l=t.password,j=l.value,d=l.errors,u=t.email,b=u.value,h=u.errors,m=t.isAdmin;return m.value,m.errors,Object(r.jsx)(P.a,{children:Object(r.jsxs)(R.a,{className:"form edit-user mt-4 mx-auto",onSubmit:e.onSubmitChanges,children:[Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{className:"form-field",children:Object(r.jsxs)(re.a,{children:[Object(r.jsx)(re.a.Prepend,{children:Object(r.jsx)(re.a.Text,{children:Object(r.jsx)("span",{children:"Username"})})}),Object(r.jsx)(R.a.Control,{type:"text",placeholder:i,name:"username",id:"usernameSU",onChange:e.onFieldUpdate}),i&&o.length>0&&Object(r.jsx)(D,{userUpdate:!0,errors:o})]})})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{className:"form-field",children:Object(r.jsxs)(re.a,{children:[Object(r.jsx)(re.a.Prepend,{children:Object(r.jsx)(re.a.Text,{children:Object(r.jsx)("span",{children:"Full Name"})})}),Object(r.jsx)(R.a.Control,{type:"text",placeholder:c,name:"fullName",id:"fullName",onChange:e.onFieldUpdate}),c&&s.length>0&&Object(r.jsx)(D,{userUpdate:!0,errors:s})]})})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{className:"form-field",children:Object(r.jsxs)(re.a,{children:[Object(r.jsx)(re.a.Prepend,{children:Object(r.jsx)(re.a.Text,{children:Object(r.jsx)("span",{children:"E-mail"})})}),Object(r.jsx)(R.a.Control,{type:"text",placeholder:b,name:"email",id:"email",onChange:e.onFieldUpdate}),b&&h.length>0&&Object(r.jsx)(D,{userUpdate:!0,errors:h})]})})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{className:"form-field",children:Object(r.jsxs)(re.a,{children:[Object(r.jsx)(re.a.Prepend,{children:Object(r.jsx)(re.a.Text,{children:Object(r.jsx)("span",{children:"Password"})})}),Object(r.jsx)(R.a.Control,{type:"password",placeholder:j,name:"password",id:"password",onChange:e.onFieldUpdate}),Object(r.jsx)(re.a.Append,{children:j&&d.length>0&&Object(r.jsx)(D,{userUpdate:!0,errors:d})})]})})}),Object(r.jsx)(R.a.Row,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)(q.a,{block:!0,type:"submit",children:"Save"})})})]})})};var he=function(e){var t=e.user,n=t.id,s=t.username,a=t.isAdmin,i=t.fullName,o=t.email,l=t.password,d=t.cart,h=t.favProjects,O=t.updatedOn,x=Object(c.useState)({field:{id:{value:n,required:!1,errors:[]},username:{value:s,required:!0,errors:[]},isAdmin:{value:a,required:!1,errors:[]},fullName:{value:i,required:!0,errors:[]},email:{value:o,required:!0,errors:[]},password:{value:l,required:!0,errors:[]},cart:{value:d,required:!1,errors:[]},favProjects:{value:h,required:!1,errors:[]}},isEditingUser:!1,bannerIsShown:!1,msg:""}),f=Object(b.a)(x,2),p=f[0],g=f[1],v=function(e){var t={id:e.id.value,fullName:e.fullName.value,username:e.username.value,isAdmin:e.isAdmin.value,password:e.password.value,email:e.email.value,cart:e.cart.value,favProjects:e.favProjects.value};w.save("users",t).then((function(e){return e}))};return Object(r.jsxs)("div",{children:[Object(r.jsxs)(P.a,{className:"flex align-items-center",children:[Object(r.jsx)(B.a,{sm:2,md:2,children:Object(r.jsx)(m.a,{className:"avatar mngusers",src:"https://robohash.org/set_set5/".concat(i,".png"),alt:"user pic",roundedCircle:!0})}),Object(r.jsx)(B.a,{sm:3,md:3,children:i}),Object(r.jsx)(B.a,{sm:2,md:2,children:ue()(O).fromNow()}),Object(r.jsx)(B.a,{sm:2,md:2,children:Object(r.jsx)(K.a,{className:"pointer",icon:X.b,onClick:function(){g((function(e){return Object(u.a)(Object(u.a)({},e),{},{isEditingUser:!e.isEditingUser})}))}})}),Object(r.jsx)(B.a,{sm:2,md:2,children:Object(r.jsx)(K.a,{className:"pointer",icon:X.d,onClick:function(){return e.onDeleteUser("users",n)}})})]}),p.isEditingUser&&Object(r.jsx)(be,{user:p.field,onSubmitChanges:function(t){t.preventDefault(),Object.keys(p.field).every((function(e){return 0===p.field[e].errors.length}))?(v(p.field),g((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-around",children:Object(r.jsxs)("h3",{children:['User "',e.field.username.value,'" has been updated.']})}),bannerIsShown:!0})})),setTimeout((function(){e.onReloadFromDB("users"),g((function(e){return Object(u.a)(Object(u.a)({},e),{},{isEditingUser:!e.isEditingUser,bannerIsShown:!1})}))}),2e3)):g((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"Some of the fields have issues.",bannerIsShown:!0})}))},onFieldUpdate:function(e){var t=F(e.target,p);g(Object(u.a)(Object(u.a)({},p),{},{field:Object(u.a)(Object(u.a)({},p.field),{},Object(j.a)({},e.target.name,Object(u.a)(Object(u.a)({},p.field[e.target.name]),{},{value:e.target.value,errors:t})))}))}}),Object(r.jsx)(H,{isBannerShown:p.bannerIsShown,onShowBanner:function(){return g((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!0})}))},onHideBanner:function(){return g((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!1})}))},txt:p.msg})]})};var me=function(e){var t=Object(h.f)(),n=Object(c.useState)({users:[],bannerIsShown:!1,msg:""}),s=Object(b.a)(n,2),a=s[0],i=s[1],o=function(e,t){t?w.remove(e,t).then((function(t){return m(e)})):console.log("haha!")},m=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.query(t).then((function(e){var n=e.slice(1);i((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(j.a)({},t,n))}))}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){w.query("users").then((function(e){var t=e.slice(1);i((function(e){return Object(u.a)(Object(u.a)({},e),{},{users:t})}))}))}),[]),Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsx)("h4",{children:"All Users"}),Object(r.jsxs)(T.a,{children:[Object(r.jsx)(T.a.Header,{children:Object(r.jsx)("h4",{children:"As an admin, you can manage all the users here:"})}),Object(r.jsx)(T.a.Body,{children:Object(r.jsxs)(T.a.Text,{children:[Object(r.jsxs)(P.a,{className:"user-table-header",children:[Object(r.jsx)(B.a,{xs:2,sm:2,md:2}),Object(r.jsx)(B.a,{xs:3,sm:3,md:3,classname:"no-padding-left",children:"Name"}),Object(r.jsx)(B.a,{xs:2,sm:2,md:2,children:"Created"}),Object(r.jsx)(B.a,{xs:2,sm:2,md:2,children:"Edit"}),Object(r.jsx)(B.a,{xs:2,sm:2,md:2,children:"Remove"})]}),Object(r.jsx)(P.a,{children:Object(r.jsx)(B.a,{className:"flex col",children:a.users.map((function(e,t){return Object(r.jsx)("div",{className:"line mx-3",children:Object(r.jsx)(he,{user:e,onReloadFromDB:m,onDeleteUser:o})},t)}))})})]})}),Object(r.jsx)(T.a.Footer,{className:"text-muted",children:Object(r.jsx)(q.a,{variant:"primary",onClick:function(){return t.go(-1)},children:"Back"})})]})]})},Oe=n(132);var xe=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Checkout:"}),Object(r.jsx)(T.a,{children:Object(r.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"Item"}),Object(r.jsx)("th",{className:"text-center",children:"Price ea."}),Object(r.jsx)("th",{className:"text-center",children:"Quantity"}),Object(r.jsx)("th",{className:"text-center",children:"sub-total"})]})}),Object(r.jsxs)("tbody",{children:[e.items.map((function(t,n){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n+1}),Object(r.jsx)("td",{children:t.name}),Object(r.jsxs)("td",{className:"text-center",children:["$",t.cost]}),Object(r.jsx)("td",{className:"text-center",children:e.onCalcCartQty(t.id)}),Object(r.jsxs)("td",{className:"text-center",children:["$",e.onCalcCartQty(t.id)*t.cost]})]},n)})),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{colSpan:"3",children:"Number of items:"}),Object(r.jsx)("td",{className:"text-center",children:e.cartItems.reduce((function(e,t){return e+Object.values(t)[0]}),0)})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{colSpan:"4",children:"Total Cost:"}),Object(r.jsxs)("td",{className:"text-center",children:["$",function(){var t=0;return e.items.forEach((function(n){return t+=e.onCalcCartQty(n.id)*n.cost})),t}()]})]})]})]})})]})};var fe=function(e){var t=Object(c.useState)({items:[],bannerIsShown:!1,msg:""}),n=Object(b.a)(t,2),s=n[0],a=n[1];Object(c.useEffect)((function(){var t="";if(e.items.length>0){e.items.forEach((function(e){return t+="&id=".concat(Object.keys(e)[0])}));var n=t.substring(1),r="?".concat(n);w.getById("items",r).then((function(e){return a((function(t){return Object(u.a)(Object(u.a)({},t),{},{items:e})}))}))}}),[e.items]);var i=function(t){var n=e.items.find((function(e){return Object.keys(e)[0]===t}));if(n)return Object.values(n)[0];console.log("haha!")};return Object(r.jsxs)("div",{className:"container flex col",children:[Object(r.jsx)("h2",{children:"Cart:"}),Object(r.jsxs)(T.a,{className:"p-2",children:[Object(r.jsxs)(Oe.a,{striped:!0,bordered:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{colSpan:"2",children:"Item"}),Object(r.jsx)("th",{children:"Price"}),Object(r.jsx)("th",{colSpan:"2",children:"Quantity"})]})}),Object(r.jsx)("tbody",{children:s.items.map((function(t,n){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)("img",{className:"cart-item-img",src:t.imgUrl,alt:""})}),Object(r.jsx)("td",{children:t.name}),Object(r.jsxs)("td",{children:["$",t.cost]}),Object(r.jsx)("td",{children:i(t.id)}),Object(r.jsx)("td",{className:"remove",onClick:function(){return e.onRemoveFromCart(t)},children:"x"})]},n)}))})]}),s.items.length>0&&Object(r.jsx)(q.a,{onClick:function(){return a((function(t){return Object(u.a)(Object(u.a)({},t),{},{msg:Object(r.jsx)(xe,{items:t.items,cartItems:e.items,onCalcCartQty:i})})})),void a((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!0})}))},children:"Place Order"})]}),Object(r.jsx)(H,{isBannerShown:s.bannerIsShown,onShowBanner:function(){return a((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!0})}))},onHideBanner:function(){return a((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!1})}))},txt:s.msg})]})},pe=(n(121),Object(h.g)((function(e){var t=e.location,n=t.pathname.split("/")[1]||"/",s=Object(c.useState)({items:[],projects:[],currUser:"",cart:[],isSignedIn:!1,bannerIsShown:!1,msg:""}),a=Object(b.a)(s,2),i=a[0],o=a[1],f=Object(h.f)();Object(c.useEffect)((function(){var e=w.query("items"),t=w.query("projects");Promise.all([e,t]).then((function(e){return o((function(t){return Object(u.a)(Object(u.a)({},t),{},{items:e[0],projects:e[1]})}))}))}),[]);var p=function(e){var t=e.username,n=e.password;return o((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-around",children:[Object(r.jsx)("div",{children:"Signing In, Please Wait..."}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{src:"./img/common/loader.gif",alt:""})})]}),bannerIsShown:!0})})),w.authenticate(t.value,n.value).then((function(e){"no such user"===e?(o((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:Object(r.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-around",children:[Object(r.jsx)("h2",{children:"No Such User..."}),Object(r.jsx)("h2",{children:"Perhaps you need to sign up ?"})]}),bannerIsShown:!0})})),setTimeout((function(){o((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"",bannerIsShown:!1})}))}),3e3)):"wrong password"===e?(o((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:Object(r.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-around",children:Object(r.jsx)("h2",{children:"Wrong Password..."})}),bannerIsShown:!0})})),setTimeout((function(){o((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"",bannerIsShown:!1})}))}),3e3)):(o((function(t){return Object(u.a)(Object(u.a)({},t),{},{currUser:e,isSignedIn:!0,msg:"",bannerIsShown:!1})})),setTimeout((function(){f.push("/projects")}),3e3))}))},g=function(e){var t={fullName:e.fullName.value,username:e.username.value,password:e.password.value,email:e.email.value};w.save("users",t).then((function(e){var t={username:{value:e.username},password:{value:e.password}};setTimeout((function(){p(t)}),4e3)}))},v=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=i.currUser.cart.length>0?i.currUser.cart:[],-1!==(c=r.findIndex((function(e){return e.hasOwnProperty(n)})))?r[c][n]++:r.push(Object(j.a)({},n,1)),e.next=6,o((function(e){return Object(u.a)(Object(u.a)({},e),{},{currUser:Object(u.a)(Object(u.a)({},e.currUser),{},{cart:r})})}));case 6:w.save("users",i.currUser),(s=Object(u.a)({},t)).quantity--,w.save("items",s).then((function(e){return U("items")})).then((function(e){return e}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=i.currUser.cart,c=r.findIndex((function(e){return e.hasOwnProperty(n)})),r[c][n]--,0===r[c][n]&&r.splice(c,1),e.next=7,o((function(e){return Object(u.a)(Object(u.a)({},e),{},{currUser:Object(u.a)(Object(u.a)({},e.currUser),{},{cart:r})})}));case 7:w.save("users",i.currUser),(s=Object(u.a)({},t)).quantity++,w.save("items",s).then((function(e){return U("items")})).then((function(e){return e}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t){if(t){var n={name:t.projName.value,description:t.projDesc.value,instructions:t.projInst.value,quantity:t.qty.value,imgUrl:t.img.value,necItemIds:t.necItems.value};w.save("projects",n).then((function(t){return U(e)})).then((function(e){return f.go(-1)}))}else console.log("haha!")},I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(u.a)({},i.currUser),!i.currUser.favProjects.includes(t)){e.next=8;break}return e.next=4,n.favProjects.filter((function(e){return e!==t}));case 4:n.favProjects=e.sent,o((function(e){return Object(u.a)(Object(u.a)({},e),{},{currUser:n})})),e.next=10;break;case 8:n.favProjects.push(t),o((function(e){return Object(u.a)(Object(u.a)({},e),{},{currUser:n})}));case 10:w.save("users",n).then((function(e){console.log("done...")}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){t?"users"===e?w.remove(e,t).then((function(e){return e})):w.remove(e,t).then((function(t){return U(e)})).then((function(e){return f.go(-1)})):console.log("haha!")},U=function(e){w.query(e).then((function(t){return o((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(j.a)({},e,t))}))}))};return Object(r.jsxs)("div",{className:"App flex col",children:[Object(r.jsx)(k,{loggedIn:i.isSignedIn,currUser:i.currUser,onSignOut:function(){o((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-around",children:Object(r.jsxs)("h2",{children:["See You Soon, ",e.currUser.fullName.split(" ").shift(),"!"]})}),bannerIsShown:!0})})),setTimeout((function(){f.push("/"),o((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:"",isSignedIn:!1,currUser:null,bannerIsShown:!1})}))}),3e3)}}),Object(r.jsx)(H,{isBannerShown:i.bannerIsShown,onShowBanner:function(){return o((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!0})}))},onHideBanner:function(){return o((function(e){return Object(u.a)(Object(u.a)({},e),{},{bannerIsShown:!1})}))},txt:i.msg}),Object(r.jsx)(O.a,{children:Object(r.jsx)(x.a,{classNames:"fade",timeout:{enter:500,exit:500},appear:!0,children:Object(r.jsxs)(h.c,{location:t,children:[Object(r.jsx)(h.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(W,{isSignedIn:i.isSignedIn,currUser:i.currUser,onSignIn:p,onSignUp:g})}}),Object(r.jsx)(h.a,{exact:!0,path:"/profile",render:function(){return Object(r.jsx)(je,{isSignedIn:i.isSignedIn,currUser:i.currUser})}}),Object(r.jsx)(h.a,{exact:!0,path:"/projects",render:function(){return Object(r.jsx)(Z,{projects:i.projects,isSignedIn:i.isSignedIn,currUser:i.currUser,items:i.items,onAddThing:y,onToggleFavProj:I,onDeleteThing:S})}}),Object(r.jsx)(h.a,{exact:!0,path:"/projects/:id",component:ne}),Object(r.jsx)(h.a,{exact:!0,path:"/newproject/",render:function(){return Object(r.jsx)(oe,{onAddThing:y,items:i.items})}}),Object(r.jsx)(h.a,{exact:!0,path:"/items",render:function(){return Object(r.jsx)(_,{items:i.items,onAddToCart:v})}}),Object(r.jsx)(h.a,{exact:!0,path:"/items/:id",component:z}),Object(r.jsx)(h.a,{exact:!0,path:"/about",component:J}),Object(r.jsx)(h.a,{exact:!0,path:"/mngusers",component:me}),Object(r.jsx)(h.a,{exact:!0,path:"/cart",render:function(){return Object(r.jsx)(fe,{items:i.currUser.cart,onRemoveFromCart:N})}})]})},n)})]})})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=n(84),ve=Object(ge.a)();i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(Y.a,{history:ve,children:Object(r.jsx)(pe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.67ad2c05.chunk.js.map